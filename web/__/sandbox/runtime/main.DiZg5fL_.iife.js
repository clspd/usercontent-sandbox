(function(){var e=Object.defineProperty,t=(e,t)=>()=>(e&&(t=e(e=0)),t),n=t=>{let n={};for(var r in t)e(n,r,{get:t[r],enumerable:!0});return n},r,i,a=t((()=>{r=`usercontent.clspd.top`,i=[]}));async function o(e){return Array.from(new Uint8Array(await crypto.subtle.digest(`SHA-256`,e))).map(e=>e.toString(16).padStart(2,`0`)).join(``)}async function s(e){return await o(new TextEncoder().encode(e))}var c=t((()=>{}));async function l(e){if(b.has(e))return b.get(e);let t=(await s(e)).substring(0,32);return b.set(e,t),t}async function u(e,t=!0){return g?t:i.includes(e)?!0:_?await l(e)===y:!1}var d,f,p,m,h,g,_,v,y,b,x=t((()=>{a(),c(),d=window.location.hostname,f=d.endsWith(r),p=f?d.slice(0,d.length-r.length):``,m=/^public(\d+)\.$/,h=/^([a-z0-9]+?)-([a-f0-9]+?)\.$/,g=m.test(p),g&&m.exec(p)[1],_=h.test(p),[v,y]=_?h.exec(p):[``,``],b=new Map})),S=n({handleMessage:()=>T,setupEventHandlers:()=>C});function C(){globalThis.addEventListener(`message`,T)}function w(e,t){return e.source.postMessage(t,e.origin)}async function T(e){let{data:t,origin:n}=e;if(await u(n)&&!(!t||typeof t!=`object`))switch(t.type){case`ping`:return w(e,{type:`pong`});case`render`:try{return document.documentElement.outerHTML=t.code,w(e,{type:`renderResult`,success:!0})}catch(t){return w(e,{type:`renderResult`,success:!1,error:String(t),stack:String(t?.stack)})}break;case`evaluate`:try{let n=t.config||{},r;if(n.unwrap)r=Function(`return eval(arguments[0])`)(t.code);else{let e;e=n.topLevelAwait?`return ((async function () { ${t.code} })());`:n.simple?`return (() => ${t.code})();`:t.code,r=await Function(e)()}return w(e,{type:`evaluateResult`,success:!0,result:r})}catch(t){return w(e,{type:`evaluateResult`,success:!1,error:String(t),stack:String(t?.stack)})}break;default:break}}var E=t((()=>{x()}));async function D(){let{setupEventHandlers:e}=await Promise.resolve().then(()=>(E(),S));e(),console.log(`[usercontent]`,`load success`)}D()})();
//# sourceMappingURL=main.DiZg5fL_.iife.js.map